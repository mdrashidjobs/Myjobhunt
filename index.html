<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Job Hunt</title>
<style>
body { font-family: Arial, sans-serif; background: #f9f9f9; margin: 0; padding: 0; }
h1 { text-align: center; padding: 20px; }
.tabs { display: flex; flex-wrap: wrap; background: #fff; border-bottom: 2px solid #ccc; }
.tab { padding: 10px 20px; cursor: pointer; border-right: 1px solid #ccc; background: #eee; }
.tab.active { background: #fff; font-weight: bold; }
.tab-content { display: none; padding: 20px; }
.tab-content.active { display: block; }
.job-block { border: 1px dashed #ccc; margin-bottom: 10px; padding: 10px; background: #fff; white-space: pre-wrap; }
.date-header { font-weight: bold; margin-top: 20px; font-size: 16px; }
</style>
</head>
<body>

<h1>My Job Hunt</h1>
<hr>
<div class="tabs">
  <div class="tab active" data-tab="Admin">Admin</div>
  <div class="tab" data-tab="Finance">Finance</div>
  <div class="tab" data-tab="IT">IT</div>
  <div class="tab" data-tab="Engineering">Engineering</div>
  <div class="tab" data-tab="Safety">Safety</div>
  <div class="tab" data-tab="Healthcare">Healthcare</div>
  <div class="tab" data-tab="Sales">Sales</div>
  <div class="tab" data-tab="Drivers">Drivers</div>
</div>

<div id="tab-Admin" class="tab-content"></div>
<div id="tab-Finance" class="tab-content"></div>
<div id="tab-IT" class="tab-content"></div>
<div id="tab-Engineering" class="tab-content"></div>
<div id="tab-Safety" class="tab-content"></div>
<div id="tab-Healthcare" class="tab-content"></div>
<div id="tab-Sales" class="tab-content"></div>
<div id="tab-Drivers" class="tab-content"></div>

<script>
const tabs = document.querySelectorAll('.tab');
tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    document.querySelector('.tab.active').classList.remove('active');
    tab.classList.add('active');
    document.querySelector('.tab-content.active').classList.remove('active');
    document.getElementById('tab-' + tab.dataset.tab).classList.add('active');
  });
});

// Load jobs.json dynamically
fetch('jobs.json')
.then(res => res.json())
.then(data => {
  const categories = ["Admin","Finance","IT","Engineering","Safety","Healthcare","Sales","Drivers"];
  const sortedDates = Object.keys(data).sort((a,b) => new Date(b)-new Date(a)); // newest first
  categories.forEach(cat => {
    const container = document.getElementById('tab-' + cat);
    sortedDates.forEach(date => {
      if(data[date][cat] && data[date][cat].length>0){
        const dateDiv = document.createElement('div');
        dateDiv.className = 'date-header';
        dateDiv.textContent = date;
        container.appendChild(dateDiv);
        data[date][cat].forEach(job => {
          const jobDiv = document.createElement('div');
          jobDiv.className = 'job-block';
          jobDiv.textContent = job;
          container.appendChild(jobDiv);
        });
      }
    });
  });
  document.getElementById('tab-Admin').classList.add('active'); // default visible tab
});
</script>

</body>
</html>
