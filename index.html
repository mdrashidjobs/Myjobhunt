<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Job Hunt</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { font-family: Arial, sans-serif; background:#f9f9f9; margin:0; padding:0; }
h1 { text-align:center; margin-top:20px; }
h2 { margin-top:20px; }
hr { border:1px solid #ccc; margin:10px 0; }
.tabs { display:flex; justify-content:center; margin:20px 0; flex-wrap:wrap; }
.tab-button { padding:10px 15px; margin:5px; cursor:pointer; border:1px solid #ccc; border-radius:5px; background:#fff; }
.tab-button.active { background:#007bff; color:#fff; }
.tab-content { display:none; padding:20px; background:#fff; margin:0 10px 20px 10px; border-radius:5px; }
.tab-content.active { display:block; }
.job-block { padding:10px 0; margin-bottom:10px; }
.job-block h3 { font-weight:bold; margin-bottom:5px; }
h3 { scroll-margin-top:80px; }
#adContainer { text-align:center; margin:20px 0; }
</style>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3037151964199001" crossorigin="anonymous"></script>
</head>
<body>

<!-- AdSense -->
<div id="adContainer">
<ins class="adsbygoogle"
     style="display:block; text-align:center; margin: 10px auto;"
     data-ad-client="ca-pub-3037151964199001"
     data-ad-slot="1234567890"
     data-ad-format="auto"
     data-full-width-responsive="true"
     data-adtest="on"></ins>
<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>

<h1>MY JOB HUNT</h1>
<hr>

<div class="tabs" id="categoryTabs"></div>
<div id="tabContents"></div>

<script>
// Categories
const categories = ["Admin","Finance","IT","Engineering","Safety","Healthcare","Sales","Drivers"];

// Fetch JSON and render tabs & jobs
fetch('https://raw.githubusercontent.com/YOURUSERNAME/YOURREPO/main/jobs.json')
.then(res => res.json())
.then(data => {
    const tabsContainer = document.getElementById('categoryTabs');
    const contentContainer = document.getElementById('tabContents');

    categories.forEach((cat,i) => {
        // Tab buttons
        const btn = document.createElement('div');
        btn.className = 'tab-button' + (i===0?' active':'');
        btn.innerText = cat;
        btn.dataset.tab = cat;
        tabsContainer.appendChild(btn);

        // Tab content
        const tabDiv = document.createElement('div');
        tabDiv.id = cat;
        tabDiv.className = 'tab-content' + (i===0?' active':'');

        // Iterate dates
        const dates = Object.keys(data).sort((a,b)=> b.localeCompare(a));
        dates.forEach(date => {
            const h2 = document.createElement('h2');
            h2.innerText = date;
            tabDiv.appendChild(h2);

            const jobs = data[date][cat] || [];
            jobs.forEach((job,j)=>{
                const div = document.createElement('div');
                div.className = 'job-block';
                div.id = cat+j+'_'+date.replace(/-/g,'');
                const lines = job.split('\n');
                const h3 = document.createElement('h3');
                h3.innerText = lines[0];
                div.appendChild(h3);
                for(let k=1;k<lines.length;k++){
                    const p = document.createElement('p');
                    p.innerText = lines[k];
                    div.appendChild(p);
                }
                tabDiv.appendChild(div);
                tabDiv.appendChild(document.createElement('hr')); // simple line separator
            });
        });

        contentContainer.appendChild(tabDiv);
    });

    // Tab switching
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabContents = document.querySelectorAll('.tab-content');
    tabButtons.forEach(button => {
        button.addEventListener('click', () => {
            const target = button.dataset.tab;
            tabButtons.forEach(b => b.classList.remove('active'));
            button.classList.add('active');
            tabContents.forEach(tc => {
                tc.classList.remove('active');
                if(tc.id === target) tc.classList.add('active');
            });
        });
    });

    // Handle hash for direct job link
    if(window.location.hash){
        const hash = window.location.hash.substring(1);
        const jobElement = document.getElementById(hash);
        if(jobElement){
            const parentTab = jobElement.closest('.tab-content');
            if(parentTab){
                tabContents.forEach(tc => tc.classList.remove('active'));
                parentTab.classList.add('active');
                tabButtons.forEach(b => {
                    b.classList.remove('active');
                    if(b.dataset.tab === parentTab.id) b.classList.add('active');
                });
                jobElement.scrollIntoView({behavior:'smooth', block:'start'});
            }
        }
    }
})
.catch(err => console.error('Failed to load JSON', err));
</script>
</body>
</html>
